id: com.github.klauswk.Coffed
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk
command: coffed
finish-args:
  - --filesystem=home
modules:
  - name: ncurses
    buildsystem: simple
    build-commands:
      - sh configure --without-cxx --without-ada --without-cxx-binding --disable-db-install --without-manpages --without-progs --without-tack --without-tests
      - make
      - install -D lib/libncurses.a /app/bin/libcurses.a
    sources:
      - type: git
        url: 'https://github.com/mirror/ncurses.git'
        tag: 'v6.4'
        commit: 79b9071f2be20a24c7be031655a5638f6032f29f
  - name: hello
    buildsystem: simple
    build-commands: 
      - sed -i 's+-lncurses+/app/bin/libcurses.a+g' src/Makefile
      - make
      - install -D target/coffed /app/bin/coffed
    sources:
      - type: git
        url: https://github.com/Klauswk/coffed.git

